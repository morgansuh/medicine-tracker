{"remainingRequest":"/Users/morgansuh/med-schedules/node_modules/babel-loader/lib/index.js!/Users/morgansuh/med-schedules/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/morgansuh/med-schedules/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/morgansuh/med-schedules/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/morgansuh/med-schedules/src/views/Login.vue","mtime":1650399668785},{"path":"/Users/morgansuh/med-schedules/node_modules/cache-loader/dist/cjs.js","mtime":1650339646262},{"path":"/Users/morgansuh/med-schedules/node_modules/babel-loader/lib/index.js","mtime":1650339646916},{"path":"/Users/morgansuh/med-schedules/node_modules/cache-loader/dist/cjs.js","mtime":1650339646262},{"path":"/Users/morgansuh/med-schedules/node_modules/vue-loader-v16/dist/index.js","mtime":1650339642675}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tb3JnYW5zdWgvbWVkLXNjaGVkdWxlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CmltcG9ydCB7IHJlZiB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAiLi4vc3VwYWJhc2UvaW5pdCI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxvZ2luIiwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICB2YXIgZW1haWwgPSByZWYobnVsbCk7CiAgICB2YXIgcGFzc3dvcmQgPSByZWYobnVsbCk7CiAgICB2YXIgZXJyb3JNc2cgPSByZWYobnVsbCk7IC8vU2lnbiBpbiBmdW5jdGlvbgoKICAgIHZhciBsb2dpbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkc3VwYWJhc2UkYXV0aCQsIGVycm9yOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHN1cGFiYXNlLmF1dGguc2lnbkluKHsKICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLnZhbHVlLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQudmFsdWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkc3VwYWJhc2UkYXV0aCQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZXJyb3IgPSBfeWllbGQkc3VwYWJhc2UkYXV0aCQuZXJyb3I7CgogICAgICAgICAgICAgICAgaWYgKCFlcnJvcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogIkhvbWUiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGVycm9yTXNnLnZhbHVlID0gIkVycm9yOiAiLmNvbmNhdChfY29udGV4dC50MC5tZXNzYWdlKTsgLy9lcnJvciBtZXNzYWdlIGRpc2FwcGVhcgoKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBlcnJvck1zZy52YWx1ZSA9IG51bGw7CiAgICAgICAgICAgICAgICB9LCA1MDAwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgMTBdXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICBlcnJvck1zZzogZXJyb3JNc2csCiAgICAgIGxvZ2luOiBsb2dpbgogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/morgansuh/med-schedules/src/views/Login.vue"],"names":[],"mappings":";;;AA+DA,SAAS,GAAT,QAAoB,KAApB;AACA,SAAS,QAAT,QAAyB,kBAAzB;AACA,SAAS,SAAT,QAA0B,YAA1B;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,KAFa,mBAEL;AACN,QAAM,MAAK,GAAI,SAAS,EAAxB;AACA,QAAM,KAAI,GAAI,GAAG,CAAC,IAAD,CAAjB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,IAAD,CAApB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,IAAD,CAApB,CAJM,CAKN;;AACA,QAAM,KAAI;AAAA,yEAAI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEc,QAAQ,CAAC,IAAT,CAAc,MAAd,CAAqB;AAC3C,kBAAA,KAAK,EAAE,KAAK,CAAC,KAD8B;AAE3C,kBAAA,QAAQ,EAAE,QAAQ,CAAC;AAFwB,iBAArB,CAFd;;AAAA;AAAA;AAEF,gBAAA,KAFE,yBAEF,KAFE;;AAAA,qBAMN,KANM;AAAA;AAAA;AAAA;;AAAA,sBAMO,KANP;;AAAA;AAOV,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAZ;AAPU;AAAA;;AAAA;AAAA;AAAA;AASV,gBAAA,QAAQ,CAAC,KAAT,oBAA2B,YAAM,OAAjC,EATU,CAUV;;AACA,gBAAA,UAAU,CAAC,YAAM;AACf,kBAAA,QAAQ,CAAC,KAAT,GAAiB,IAAjB;AACD,iBAFS,EAEP,IAFO,CAAV;;AAXU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAJ,KAAI;AAAA;AAAA;AAAA,OAAV;;AAgBA,WAAO;AAAE,MAAA,KAAK,EAAL,KAAF;AAAS,MAAA,QAAQ,EAAR,QAAT;AAAmB,MAAA,QAAQ,EAAR,QAAnB;AAA6B,MAAA,KAAI,EAAJ;AAA7B,KAAP;AACD;AAzBY,CAAf","sourcesContent":["<template>\n  <div class=\"max-w-screen-sm mx-auto px-4 py-10\">\n    <!-- For Errors -->\n    <div v-if=\"errorMsg\" class=\"mb-10 p-4 rounded-md bg-light-grey shadow-lg\">\n      <p class=\"text-red-500\">{{ errorMsg }}</p>\n    </div>\n\n    <form\n      @submit.prevent=\"login\"\n      class=\"p-8 flex flex-col bg-light-grey rounded-md shadow-lg\"\n    >\n      <h1 class=\"text-3xl text-at-light-pink mb-4\">Login</h1>\n\n      <div class=\"flex flex-col mb-2\">\n        <label for=\"email\" class=\"mb-1 text-sm text-at-light-pink\">Email</label>\n        <input\n          type=\"text\"\n          required\n          class=\"p-2 text-gray-500 focus:outline-none\"\n          id=\"email\"\n          v-model=\"email\"\n        />\n      </div>\n\n      <div class=\"flex flex-col mb-2\">\n        <label for=\"password\" class=\"mb-1 text-sm text-at-light-pink\"\n          >Password</label\n        >\n        <input\n          type=\"password\"\n          required\n          class=\"p-2 text-gray-500 focus:outline-none\"\n          id=\"password\"\n          v-model=\"password\"\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        class=\"\n          mt-6\n          py-2\n          px-6\n          rounded-sm\n          self-start\n          text-sm text-white\n          bg-at-light-pink\n          duration-200\n          border-solid border-2 border-transparent\n          hover:border-at-light-pink hover:bg-white hover:text-at-light-pink\n        \"\n      >\n        Login\n      </button>\n\n      <router-link class=\"text-sm mt-6 text-center\" :to=\"{ name: 'Register' }\">\n        Don't have an account? <span class=\"text-at-light-pink\">Register</span>\n      </router-link>\n    </form>\n  </div>\n</template>\n \n<script>\nimport { ref } from \"vue\";\nimport { supabase } from \"../supabase/init\";\nimport { useRouter } from \"vue-router\";\n\nexport default {\n  name: \"login\",\n  setup() {\n    const router = useRouter();\n    const email = ref(null);\n    const password = ref(null);\n    const errorMsg = ref(null);\n    //Sign in function\n    const login = async () => {\n      try {\n        const { error } = await supabase.auth.signIn({\n          email: email.value,\n          password: password.value,\n        });\n        if (error) throw error;\n        router.push({ name: \"Home\" });\n      } catch (error) {\n        errorMsg.value = `Error: ${error.message}`;\n        //error message disappear\n        setTimeout(() => {\n          errorMsg.value = null;\n        }, 5000);\n      }\n    };\n    return { email, password, errorMsg, login };\n  },\n};\n</script>"],"sourceRoot":""}]}